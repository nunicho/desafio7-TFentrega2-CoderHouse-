<body>
    <h2>{{titlePage}}</h2>
    <hr />
    <br /><br />
    <div>
        <a href="/FSproducts">Productos - En FileSystem</a>
    </div>
    <div>
        <a href="/FSrealtimeproducts">Productos en tiempo real - En FileSystem</a>
    </div>
    <div>
        <a href="/DBproducts">Productos - En DataBase</a>
    </div>
    <div>
        <a href="/chat">Chat- Con Handlebars</a>
    </div>
    <div>
        <a id="cartLink" href="/carts">Detalle carrito</a>
    </div>

    <!-- Agrega un formulario con un input para el ID del carrito -->
    <form action="/carts/:id" method="GET">
        <label for="cartId">ID del Carrito:</label>
        <input type="text" id="cartId" name="cid" placeholder="Ingrese el ID del carrito" oninput="toggleSubmitButton(); updateCartLink();">
        <button type="submit" disabled>Ver Detalle</button>
    </form>

    <script>
        function toggleSubmitButton() {
            const cartIdInput = document.getElementById("cartId");
            const verDetalleButton = document.querySelector("button[type='submit']");

            if (cartIdInput.value.trim() === "") {
                verDetalleButton.disabled = true;
            } else {
                verDetalleButton.disabled = false;
            }
        }

        function updateCartLink() {
            const cartIdInput = document.getElementById("cartId");
            const cartLink = document.getElementById("cartLink");

            const cartId = cartIdInput.value.trim();

            if (cartId === "") {
                cartLink.href = "/carts";
            } else {
                cartLink.href = `/carts/${cartId}`;
            }
        }
    </script>
</body>
